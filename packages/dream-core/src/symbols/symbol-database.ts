import type { SymbolEntry } from '@dream-analyzer/shared-types';

export const SYMBOL_DATABASE: SymbolEntry[] = [
  {
    symbol: '水',
    category: 'nature',
    interpretations: {
      general: '感情、潜在意識、流れ、変化',
      positive: '浄化、再生、感情の流れ、癒し',
      negative: '感情の氾濫、コントロールの喪失、不安定さ',
      cultural: '東洋では柔軟性と適応力の象徴',
    },
    relatedSymbols: ['海', '川', '雨', '涙'],
    keywords: ['感情', '潜在意識', '浄化', '流れ'],
  },
  {
    symbol: '飛ぶ',
    category: 'actions',
    interpretations: {
      general: '自由、解放、超越、視点の変化',
      positive: '制限からの解放、目標達成、精神的成長',
      negative: '現実逃避、コントロールの喪失、不安定さ',
    },
    relatedSymbols: ['空', '鳥', '翼'],
    keywords: ['自由', '解放', '超越', '視点'],
  },
  {
    symbol: '家',
    category: 'places',
    interpretations: {
      general: '自己、アイデンティティ、安全、内面世界',
      positive: '安定、保護、帰属感、自己理解',
      negative: '閉塞感、制限、古い自己への執着',
    },
    relatedSymbols: ['部屋', 'ドア', '窓'],
    keywords: ['自己', '安全', 'アイデンティティ', '内面'],
  },
  {
    symbol: '追いかけられる',
    category: 'actions',
    interpretations: {
      general: '逃避、不安、直面すべき問題',
      positive: '成長への動機、変化の必要性の認識',
      negative: '恐怖、回避行動、ストレス',
    },
    relatedSymbols: ['走る', '隠れる', '怪物'],
    keywords: ['恐怖', '逃避', '不安', 'ストレス'],
  },
  {
    symbol: '歯が抜ける',
    category: 'objects',
    interpretations: {
      general: '自信の喪失、変化への不安、老化への恐怖',
      positive: '新しい始まり、成長の過程',
      negative: '無力感、コミュニケーションの問題',
    },
    relatedSymbols: ['口', '体', '鏡'],
    keywords: ['不安', '自信', '変化', 'コミュニケーション'],
  },
  {
    symbol: '海',
    category: 'nature',
    interpretations: {
      general: '潜在意識、感情の深さ、未知の可能性',
      positive: '無限の可能性、感情の豊かさ、癒し',
      negative: '圧倒される感情、未知への恐怖',
      cultural: '多くの文化で生命の源として象徴される',
    },
    relatedSymbols: ['水', '波', '魚', '船'],
    keywords: ['潜在意識', '感情', '深さ', '未知'],
  },
  {
    symbol: '蛇',
    category: 'animals',
    interpretations: {
      general: '変容、本能、知恵、または恐怖',
      positive: '癒し、変容、直感、創造性',
      negative: '裏切り、危険、抑圧された恐怖',
      cultural: '医療のシンボル（アスクレピオスの杖）としても知られる',
    },
    relatedSymbols: ['脱皮', '毒', '地面'],
    keywords: ['変容', '本能', '知恵', '恐怖'],
  },
  {
    symbol: '落ちる',
    category: 'actions',
    interpretations: {
      general: 'コントロールの喪失、不安、失敗への恐怖',
      positive: '手放すことの必要性、降伏',
      negative: '不安定さ、支えの欠如',
    },
    relatedSymbols: ['高所', '崖', '空'],
    keywords: ['不安', 'コントロール', '恐怖', '失敗'],
  },
  {
    symbol: '試験',
    category: 'objects',
    interpretations: {
      general: '自己評価、準備、判断への不安',
      positive: '成長への挑戦、自己改善の機会',
      negative: '不十分さへの恐怖、プレッシャー',
    },
    relatedSymbols: ['学校', '失敗', '準備'],
    keywords: ['評価', '不安', 'プレッシャー', '準備'],
  },
  {
    symbol: '赤ちゃん',
    category: 'people',
    interpretations: {
      general: '新しい始まり、純粋さ、可能性、脆弱性',
      positive: '創造性、新しいプロジェクト、成長',
      negative: '責任への不安、未熟さ',
    },
    relatedSymbols: ['誕生', '母親', '育てる'],
    keywords: ['新しい始まり', '純粋', '可能性', '責任'],
  },
  {
    symbol: '死',
    category: 'abstract',
    interpretations: {
      general: '終わりと始まり、変化、変容',
      positive: '再生、古い自己からの解放、新しい章',
      negative: '喪失への恐怖、終わりへの不安',
      cultural: '多くの伝統で死は再生のサイクルの一部',
    },
    relatedSymbols: ['葬式', '墓', '幽霊'],
    keywords: ['変化', '終わり', '再生', '変容'],
  },
  {
    symbol: '犬',
    category: 'animals',
    interpretations: {
      general: '忠誠、友情、本能、保護',
      positive: '信頼できる友人、忠誠心、直感',
      negative: '攻撃性、裏切りへの恐怖',
    },
    relatedSymbols: ['ペット', '狼', '友人'],
    keywords: ['忠誠', '友情', '保護', '本能'],
  },
  {
    symbol: '猫',
    category: 'animals',
    interpretations: {
      general: '独立、直感、女性性、神秘',
      positive: '自立、優雅さ、直感力',
      negative: '気まぐれ、信頼の欠如',
      cultural: '古代エジプトでは神聖な動物',
    },
    relatedSymbols: ['夜', '月', '女性'],
    keywords: ['独立', '直感', '神秘', '女性性'],
  },
  {
    symbol: '鳥',
    category: 'animals',
    interpretations: {
      general: '自由、精神、メッセージ、視点',
      positive: '解放、高い視点、霊的成長',
      negative: '逃避、地に足がつかない状態',
    },
    relatedSymbols: ['空', '飛ぶ', '羽'],
    keywords: ['自由', '精神', 'メッセージ', '視点'],
  },
  {
    symbol: '道',
    category: 'places',
    interpretations: {
      general: '人生の方向、選択、旅',
      positive: '明確な方向性、進歩、冒険',
      negative: '迷い、不確実性、決断の困難',
    },
    relatedSymbols: ['旅', '車', '交差点'],
    keywords: ['方向', '選択', '旅', '人生'],
  },
  {
    symbol: '森',
    category: 'nature',
    interpretations: {
      general: '潜在意識、未知、自然との繋がり',
      positive: '成長、探求、自然との調和',
      negative: '迷い、恐怖、方向感覚の喪失',
    },
    relatedSymbols: ['木', '自然', '暗闇'],
    keywords: ['潜在意識', '未知', '自然', '探求'],
  },
  {
    symbol: '火',
    category: 'nature',
    interpretations: {
      general: '情熱、変容、浄化、破壊',
      positive: '創造性、情熱、変容、啓発',
      negative: '怒り、破壊、コントロールの喪失',
      cultural: 'プロメテウスの火のように知識の象徴でもある',
    },
    relatedSymbols: ['熱', '光', '灰'],
    keywords: ['情熱', '変容', '浄化', '破壊'],
  },
  {
    symbol: '山',
    category: 'nature',
    interpretations: {
      general: '目標、挑戦、達成、障害',
      positive: '野望、達成、精神的高揚',
      negative: '乗り越えられない障害、孤立',
    },
    relatedSymbols: ['登る', '頂上', '谷'],
    keywords: ['目標', '挑戦', '達成', '障害'],
  },
  {
    symbol: '鏡',
    category: 'objects',
    interpretations: {
      general: '自己反省、真実、自己認識',
      positive: '自己理解、真実の発見、成長',
      negative: '虚栄心、自己批判、現実との乖離',
    },
    relatedSymbols: ['顔', '反射', '自己'],
    keywords: ['自己反省', '真実', '認識', '内省'],
  },
  {
    symbol: '車',
    category: 'objects',
    interpretations: {
      general: '人生の方向性、コントロール、野心',
      positive: '進歩、自立、目標に向かう力',
      negative: 'コントロールの喪失、方向性の欠如',
    },
    relatedSymbols: ['運転', '道', '旅'],
    keywords: ['方向', 'コントロール', '進歩', '野心'],
  },
];

export class SymbolDatabase {
  static search(query: string): SymbolEntry[] {
    const lowerQuery = query.toLowerCase();
    return SYMBOL_DATABASE.filter(
      (entry) =>
        entry.symbol.includes(query) ||
        entry.keywords.some((keyword) => keyword.includes(lowerQuery))
    );
  }

  static getByCategory(category: string): SymbolEntry[] {
    return SYMBOL_DATABASE.filter((entry) => entry.category === category);
  }

  static getAll(): SymbolEntry[] {
    return SYMBOL_DATABASE;
  }
}
